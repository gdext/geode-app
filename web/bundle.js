(()=>{"use strict";var t={814:(t,n,r)=>{r.d(n,{Z:()=>o});var e=r(645),i=r.n(e)()((function(t){return t[1]}));i.push([t.id,"html {\r\n    width:  100%;\r\n    height: 100%;\r\n}\r\n\r\nbody {\r\n    margin: 0;\r\n\r\n    width:  100%;\r\n    height: 100%;\r\n\r\n    overflow: hidden;\r\n\r\n    font-family: 'Segoe UI', sans-serif;\r\n}\r\n\r\n.bg {\r\n    position: fixed;\r\n    -webkit-user-drag: none;\r\n    -webkit-user-select: none;\r\n    z-index: -10;\r\n}\r\n\r\n.geode-layer {\r\n    background-color: black;\r\n    opacity: 0.7;\r\n\r\n    position: absolute;\r\n    z-index: -5;\r\n\r\n    width:  100%;\r\n    height: 100%;\r\n}\r\n\r\n.geode-app {\r\n    width:  100%;\r\n    height: 100%;\r\n}\r\n\r\n.geode-footer {\r\n    position: absolute;\r\n\r\n    right: 0px;\r\n    bottom: 0px;\r\n\r\n    margin-bottom: 5px;\r\n    margin-right:  10px;\r\n\r\n    color: rgb(255, 255, 255);\r\n    font-size: 16px;\r\n\r\n    opacity: 0.5;\r\n    z-index: -4;\r\n\r\n    -webkit-user-drag: none;\r\n    -webkit-user-select: none;\r\n}\r\n\r\n.geode-window {\r\n    background-color: #272727e7;\r\n    border: 1px solid black;\r\n\r\n    position: absolute;\r\n\r\n    border-radius: 3px;\r\n\r\n    -webkit-box-shadow: 0px 0px 6px 0px rgba(0,0,0,0.4);\r\n}\r\n\r\n.window-top {\r\n    width: auto;\r\n    height: 20px;\r\n\r\n    padding-top: 4px;\r\n    padding-bottom: 4px;\r\n\r\n    padding-left:  15px;\r\n    padding-right: 4px;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    -webkit-user-drag: none;\r\n    -webkit-user-select: none;\r\n}\r\n\r\n.window-title {\r\n    color: rgb(189, 189, 189);\r\n\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n\r\n    line-height: 1.2;\r\n\r\n    height: 22px;\r\n\r\n    flex: 1;\r\n}\r\n\r\n.window-button {\r\n    filter: brightness(0.74);\r\n\r\n    height: 100%;\r\n\r\n    padding-left:  9px;\r\n    padding-right: 9px;\r\n\r\n    margin-left: 5px;\r\n\r\n    cursor: pointer;\r\n\r\n    -webkit-user-drag: none;\r\n    -webkit-user-select: none;\r\n}\r\n\r\n.window-button:hover {\r\n    background-color: rgba(0, 0, 0, 0.239);\r\n\r\n    filter: brightness(1);\r\n\r\n    border-radius: 3px;\r\n}\r\n\r\n.window-drag {\r\n    position: absolute;\r\n}\r\n\r\n.drag-top {\r\n    top: -4px;\r\n\r\n    width: calc(100% - 78px);\r\n    height: 8px;\r\n\r\n    cursor: n-resize;\r\n}\r\n\r\n.drag-left {\r\n    top: 0px;\r\n    left: -4px;\r\n\r\n    height: 100%;\r\n    width: 8px;\r\n\r\n    cursor: e-resize;\r\n}\r\n\r\n.drag-bottom {\r\n    bottom: -4px;\r\n    \r\n    width: 100%;\r\n    height: 8px;\r\n\r\n    cursor: n-resize;\r\n}\r\n\r\n.drag-right {\r\n    top: 0px;\r\n    right: -4px;\r\n\r\n    height: 100%;\r\n    width: 8px;\r\n\r\n    cursor: e-resize;\r\n}\r\n\r\n.drag-topleft {\r\n    top: -4px;\r\n    left: -4px;\r\n\r\n    height: 8px;\r\n    width: 8px;\r\n\r\n    cursor: nw-resize;\r\n}\r\n\r\n.drag-topright {\r\n    top: -4px;\r\n    right: -4px;\r\n\r\n    height: 8px;\r\n    width: 8px;\r\n\r\n    cursor: ne-resize;\r\n}\r\n\r\n.drag-bottomleft {\r\n    bottom: -4px;\r\n    left: -4px;\r\n\r\n    height: 8px;\r\n    width: 8px;\r\n\r\n    cursor: sw-resize;\r\n}\r\n\r\n.drag-bottomright {\r\n    bottom: -4px;\r\n    right: -4px;\r\n\r\n    height: 8px;\r\n    width: 8px;\r\n\r\n    cursor: se-resize;\r\n}\r\n\r\n.window-content {\r\n    height: calc(100% - 32px);\r\n\r\n    margin-left:   4px;\r\n    margin-right:  4px;\r\n    margin-bottom: 4px;\r\n}",""]);const o=i},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var r=t(n);return n[2]?"@media ".concat(n[2]," {").concat(r,"}"):r})).join("")},n.i=function(t,r,e){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var d=0;d<t.length;d++){var h=[].concat(t[d]);e&&i[h[0]]||(r&&(h[2]?h[2]="".concat(r," and ").concat(h[2]):h[2]=r),n.push(h))}},n}},695:t=>{var n={};t.exports=function(t){if(void 0===n[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}n[t]=r}return n[t]}},379:t=>{var n=[];function r(t){for(var r=-1,e=0;e<n.length;e++)if(n[e].identifier===t){r=e;break}return r}function e(t,e){for(var o={},s=[],d=0;d<t.length;d++){var h=t[d],a=e.base?h[0]+e.base:h[0],l=o[a]||0,p="".concat(a," ").concat(l);o[a]=l+1;var g=r(p),c={css:h[1],media:h[2],sourceMap:h[3]};-1!==g?(n[g].references++,n[g].updater(c)):n.push({identifier:p,updater:i(c,e),references:1}),s.push(p)}return s}function i(t,n){var r=n.domAPI(n);return r.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r.update(t=n)}else r.remove()}}t.exports=function(t,i){var o=e(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var d=r(o[s]);n[d].references--}for(var h=e(t,i),a=0;a<o.length;a++){var l=r(o[a]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}o=h}}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n),n}},795:t=>{t.exports=function(t){var n=t.insertStyleElement(t);return{update:function(r){!function(t,n,r){var e=r.css,i=r.media,o=r.sourceMap;i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(e,t)}(n,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,exports:{}};return t[e](o,o.exports,r),o.exports}r.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return r.d(n,{a:n}),n},r.d=(t,n)=>{for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var n=r.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var e=n.getElementsByTagName("script");e.length&&(t=e[e.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{let t;t={loaded_icons:{},element:(n,r=[],e=[],i={})=>{let o=document.createElement(n);if("string"==typeof r)o.classList.add(r);else if("object"==typeof r)for(let t of r)o.classList.add(t);for(const[t,n]of Object.entries(i))o.setAttribute(t,n);if(Array.isArray(e))for(let n of e)t.add(o,n);else t.add(o,e);return o},icon:(n,r=[],e={})=>{const i={src:t.loaded_icons[n]};return t.element("img",r,[],Object.assign(i,e))},load_icon:(n,r)=>{t.loaded_icons[n]=r},input:(n,r=[],e={})=>t.element("input",r,[],Object.assign({type:n},e)),img:(n,r=[],e={})=>{if("string"==typeof n)return t.element("img",r,[],Object.assign({src:n},e));{let t=n.cloneNode(!1);if("string"==typeof r)t.classList.add(r);else if("object"==typeof r)for(let n of r)t.classList.add(n);for(const[n,r]of Object.entries(e))t.setAttribute(n,r);return t}},a:(n,r=[],e="",i={})=>t.element("a",r,e,Object.assign({href:n},i)),p:(n=[],r="",e={})=>t.element("p",n,r,e),span:(n=[],r="",e={})=>t.element("span",n,r,e),div:(n=[],r=[],e={})=>t.element("div",n,r,e),add:(t,n)=>{"string"==typeof n?t.appendChild(document.createTextNode(n)):t.appendChild(n)}};const n=t;var e=r(379),i=r.n(e),o=r(795),s=r.n(o),d=r(695),h=r.n(d),a=r(216),l=r.n(a),p=r(814),g={styleTagTransform:function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}},setAttributes:function(t){var n=r.nc;n&&t.setAttribute("nonce",n)},insert:function(t){var n=h()("head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}};g.domAPI=s(),g.insertStyleElement=l(),i()(p.Z,g),p.Z&&p.Z.locals&&p.Z.locals;const c=r.p+"e381121e396931ce2f6632964e2c8c4d.svg",w=r.p+"b3f873275ed325021041b01c14c2de8e.svg";class u{constructor(t,r,e,i){this.x=e.x?e.x:200,this.y=e.y?e.y:300,this.width=e.width?e.width:400,this.height=e.height?e.height:300,this.title=e.title?e.title:"Geode Untitled Window",this.maxWidth=e.maxWidth?e.maxWidth:200,this.maxHeight=e.maxHeight?e.maxHeight:28,this.id=r,this.desktop=t,this.content=n.div("window-content"),this.holding=!1,this.dragHold=0;let o=0,s=0,d=0,h=0;this.windowTop=n.div("window-top",[n.span("window-title",this.title),n.div("window-buttons",[n.icon("bxs-pin","window-button"),n.icon("close-big","window-button")])]),this.windowTop.onmousedown=t=>{window.getSelection().empty(),0==t.button&&(this.holding=!0)};let a=t=>{d+=t,this.y=Math.min(d,h-this.maxHeight),this.height-=t},l=t=>{this.height+=t},p=t=>{o+=t,this.x=Math.min(o,s-this.maxWidth),this.width-=t},g=t=>{this.width+=t};document.addEventListener("mousemove",(t=>{0!=this.dragHold?(0!=(8&this.dragHold)&&a(t.movementY),0!=(4&this.dragHold)&&l(t.movementY),0!=(2&this.dragHold)&&p(t.movementX),0!=(1&this.dragHold)&&g(t.movementX),this.updateTransform()):this.holding&&(this.x+=t.movementX,this.y+=t.movementY,this.updateTransform())})),document.addEventListener("mouseup",(t=>{this.holding=!1,this.dragHold=0,this.width=Math.max(this.width,this.maxWidth),this.height=Math.max(this.height,this.maxHeight)})),this.dragTop=n.div(["window-drag","drag-top"]),this.dragBottom=n.div(["window-drag","drag-bottom"]),this.dragLeft=n.div(["window-drag","drag-left"]),this.dragRight=n.div(["window-drag","drag-right"]),this.dragTopLeft=n.div(["window-drag","drag-topleft"]),this.dragTopRight=n.div(["window-drag","drag-topright"]),this.dragBottomLeft=n.div(["window-drag","drag-bottomleft"]),this.dragBottomRight=n.div(["window-drag","drag-bottomright"]);let c=(t,n)=>{window.getSelection().empty(),0==n.button&&(this.dragHold=t,console.log(t)),o=this.x,s=o+this.width,d=this.y,h=d+this.height};this.dragTop.onmousedown=c.bind(this,8),this.dragBottom.onmousedown=c.bind(this,4),this.dragLeft.onmousedown=c.bind(this,2),this.dragRight.onmousedown=c.bind(this,1),this.dragTopLeft.onmousedown=c.bind(this,10),this.dragTopRight.onmousedown=c.bind(this,9),this.dragBottomLeft.onmousedown=c.bind(this,6),this.dragBottomRight.onmousedown=c.bind(this,5),this.winElement=n.div("geode-window",[this.windowTop,this.dragTop,this.dragBottom,this.dragLeft,this.dragRight,this.dragTopLeft,this.dragTopRight,this.dragBottomLeft,this.dragBottomRight,this.content]),this.updateTransform()}setZOrder(t){this.winElement.style["z-index"]=t.toString()}isInWindow(t,n){let r=this.winElement.getBoundingClientRect();return t>=r.left-4&&t<r.right+4&&n>=r.top-4&&n<r.bottom+4}updateTransform(){this.winElement.style.left=this.x+"px",this.winElement.style.top=this.y+"px",this.winElement.style.width=Math.max(this.width,200)+"px",this.winElement.style.height=Math.max(this.height,28)+"px"}setPosition(t,n){this.x=t,this.y=n,updateTransform()}setSize(t,n){this.width=t,this.height=n,updateTransform()}getContent(){return this.content}getElement(){return this.winElement}}class m{constructor(t,r){n.load_icon("bxs-pin",c),n.load_icon("close-big",w),this.body=t,this.app=r,this.lastId=0,this.windows={},this.windowOrder=[],this.generate(),document.addEventListener("mousedown",(t=>{let n=this.getWindowAt(t.clientX,t.clientY);null!=n&&this.putWindowOnTop(n)}))}generate(){this.layer=n.div("geode-layer"),this.footer=n.span("geode-footer",this.app.version),this.desktop=n.div("geode-app"),n.add(this.body,this.layer),n.add(this.body,this.footer),n.add(this.body,this.desktop)}updateZOrders(){for(let t=0;t<this.windowOrder.length;t++){let n=this.windowOrder[t];this.windows[n].setZOrder(t)}}getWindowAt(t,n){let r=null;for(let e=0;e<this.windowOrder.length;e++){let i=this.windowOrder[e];this.windows[i].isInWindow(t,n)&&(r=i)}return r}putWindowOnTop(t){console.log(t);for(let n=0;n<this.windowOrder.length;n++)if(this.windowOrder[n]==t){this.windowOrder.splice(n,1);break}this.windowOrder.push(t),this.updateZOrders()}createWindow(t){let r=new u(this,this.lastId,t);n.add(this.desktop,r.getElement()),this.windows[this.lastId]=r,this.windowOrder.push(this.lastId),this.lastId++,this.updateZOrders()}}new class{constructor(){this.version="Geode 1.0.0",this.body=document.getElementsByTagName("body")[0],this.desktop=new m(this.body,this),this.desktop.createWindow({title:"very pogger window"}),this.desktop.createWindow({title:"another very pogger window"})}}})()})();